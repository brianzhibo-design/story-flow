# StoryFlow 后端环境变量配置
# 复制此文件为 .env 并填入实际值

# =================================
# 环境配置
# =================================
ENV=production
DEBUG=false

# =================================
# 安全配置
# =================================

# JWT 密钥 (生产环境必须更改！至少32个字符)
SECRET_KEY=your-super-secret-key-change-in-production-at-least-32-chars

# Token 过期时间
ACCESS_TOKEN_EXPIRE_MINUTES=120
REFRESH_TOKEN_EXPIRE_DAYS=30

# =================================
# 数据库配置 (阿里云 RDS PostgreSQL)
# =================================
DATABASE_URL=postgresql+asyncpg://storyflow:your-password@rm-xxx.pg.rds.aliyuncs.com:5432/storyflow

# 连接池配置
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# =================================
# Redis 配置 (阿里云 Redis)
# =================================
REDIS_URL=redis://:your-password@r-xxx.redis.rds.aliyuncs.com:6379/0

# =================================
# RabbitMQ 配置 (如果使用 Celery)
# =================================
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# =================================
# 存储配置 (阿里云 OSS)
# =================================
STORAGE_TYPE=oss
OSS_ACCESS_KEY_ID=LTAI5tXXXXXXXXXXXXXX
OSS_ACCESS_KEY_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxx
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
OSS_BUCKET=storyflow-assets
OSS_CDN_DOMAIN=cdn.storyflow.com

# =================================
# AI 服务配置
# =================================

# Mock 模式 (开发测试时设为 true)
AI_MOCK_MODE=false

# 通义大模型 (DashScope)
DASHSCOPE_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# 可灵 AI (视频生成)
KLING_ACCESS_KEY=your-access-key
KLING_SECRET_KEY=your-secret-key

# 火山引擎 TTS (语音合成)
VOLCENGINE_TTS_APP_ID=your-app-id
VOLCENGINE_TTS_TOKEN=your-token

# DeepSeek (备选 LLM)
# DEEPSEEK_API_KEY=

# 智谱 GLM (备选 LLM)
# ZHIPU_API_KEY=

# 即梦 (备选图片生成)
# JIMENG_API_KEY=

# =================================
# CORS 配置
# =================================
# 多个域名用逗号分隔
CORS_ORIGINS=https://storyflow.vercel.app,https://storyflow.com,https://www.storyflow.com

# =================================
# 支付配置 (可选)
# =================================

# 支付宝
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=
ALIPAY_NOTIFY_URL=https://api.storyflow.com/api/v1/payment/notify/alipay
ALIPAY_RETURN_URL=https://storyflow.com/payment/success

# 微信支付
WECHAT_APP_ID=
WECHAT_MCH_ID=
WECHAT_API_V3_KEY=
WECHAT_PRIVATE_KEY=
WECHAT_CERT_SERIAL_NO=
WECHAT_NOTIFY_URL=https://api.storyflow.com/api/v1/payment/notify/wechat
